---
title: 자바스크립트 프로토타입
date: '2025-08-23'
tags: ['javascript']
draft: false
summary: 프로토타입 개념 정리
---

자바스크립트는 명령형, 함수형, 프로토타입 기반의 객체 지향 프로그래밍을 지원하는 멀티 패러다임 프로그래밍 언어다. 자바스크립트의 모든 객체는 다른 객체를 참조하는 내부 `[[Prototype]]` 속성을 가지고 있으며, 이를 통해 상속과 메서드 공유가 가능하다. 이번 글에서는 자바스크립트의 프로토타입 개념을 정리해보자.

## TL;DR

- 프로토타입은 객체가 다른 객체의 프로퍼티와 메서드를 상속받을 수 있게 해주는 자바스크립트의 핵심 개념이다.
- 프로토타입을 활용하여 불필요한 메모리 사용을 줄이고, 코드의 재사용성과 유지보수성을 높일 수 있다.
- 프로토타입 체인의 검색 순서는 인스턴스 → 프로토타입 → 상위 프로토타입 → ... → Object.prototype이다.

## 프로토타입이란?

프로토타입은 객체가 다른 객체의 프로퍼티와 메서드를 상속받을 수 있게 해주는 자바스크립트의 핵심 개념이다. 모든 객체는 `[[Prototype]]`이라는 내부 속성을 가지고 있으며, 이를 통해 상위 객체의 프로퍼티와 메서드에 접근할 수 있다.

우리는 Array의 `push`, `map`, `filter` 같은 메서드를 자주 사용한다. 이 메서드들은 Array 인스턴스가 직접 가지고 있는 것이 아니라, `Array.prototype`이라는 객체에 정의되어 있는 것이다. 즉, 모든 Array 인스턴스는 `Array.prototype`을 통해 push, map, filter 메서드를 상속받아 사용할 수 있다.

```js
const numbers = [1, 2, 3];

numbers.push(4);
console.log(numbers); // [1, 2, 3, 4]

const doubled = numbers.map((n) => n * 2);
console.log(doubled); // [2, 4, 6, 8]
```

Object에는 `toString`, `keys`, `values` 같은 메서드들이 있다. 이 메서드들도 `Object.prototype`에 정의되어 있는 것이며, 모든 객체가 이를 상속받아 사용할 수 있다.

```js
const obj = { a: 1, b: 2 };
console.log(obj.toString()); // [object Object]
console.log(Object.keys(obj)); // ['a', 'b']
console.log(Object.values(obj)); // [1, 2]
```

이번에는 아래 예시를 보자.

```js
function Circle(radius) {
  this.radius = radius;
  this.getArea = function () {
    return Math.PI * this.radius ** 2;
  };
}

const circle1 = new Circle(1);
const circle2 = new Circle(2);

console.log(circle1.getArea === circle2.getArea); // false
```

위 예제에서 Circle 생성자 함수는 인스턴스를 생성할 때마다 `getArea` 메서드를 중복 생성한다. 이로 인해 불필요한 메모리 공간이 낭비된다. 프로토타입을 활용하여 모든 인스턴스가 `getArea` 메서드를 상속받을 수 있게 하면 메모리 사용을 최적화할 수 있다.

```js
function Circle(radius) {
  this.radius = radius;
}

Circle.prototype.getArea = function () {
  return Math.PI * this.radius ** 2;
};

const circle1 = new Circle(1);
const circle2 = new Circle(2);

console.log(circle1.getArea === circle2.getArea); // true
```

브라우저 콘솔에서 첫 번째 예제의 `console.dir(circle1)`과 두 번째 예제의 `console.dir(circle1)`를 비교해보면, 두 객체의 구성이 다름을 확인할 수 있다. 첫 번째 예제에서는 각 인스턴스가 독립적으로 `getArea` 메서드를 가지고 있지만, 두 번째 예제에서는 `Circle.prototype`에 정의된 `getArea` 메서드를 공유한다.

<div className="flex w-full max-w-full flex-col items-start gap-4 sm:flex-row">
  <img
    src="/static/images/prototype-1.webp"
    alt="prototype-1"
    className="h-auto w-full max-w-full rounded-xl object-contain sm:w-1/2"
  />
  <img
    src="/static/images/prototype-2.webp"
    alt="prototype-2"
    className="h-auto w-full max-w-full rounded-xl object-contain sm:w-1/2"
  />
</div>

## constructor, prototype, instance, `__proto__`

이쯤에서 각 용어들에 대해 정리하고 넘어가자.

- constructor: 객체(인스턴스)를 찍어내는 생성자 함수
- prototype: 인스턴스들이 공유하는 속성과 메서드가 담기는 객체 (constructor의 prototype 프로퍼티)
- instance: constructor로부터 생성된 실제 객체
- `__proto__`: 인스턴스가 자신의 생성자 prototype과 연결되는 숨은 내부

아래 예제를 통해 이해해보자.

```js
function Parent(name) {
  this.name = name;
}

Parent.prototype.sayHello = function () {
  console.log(`Hello, I'm ${this.name}`);
};

const children = new Parent('example');
console.dir(children);
```

위 예제에서

- constructor는 `Parent` 생성자 함수,
- prototype은 `Parent.prototype` 객체,
- instance는 `children` 객체,
- `__proto__`는 `children.__proto__`를 통해 접근할 수 있는 `Parent.prototype` 객체를 의미한다.

아래와 같이 구조를 시각화할 수 있다.

```js
Parent (constructor)
 └── prototype  ---> { sayHello: f, constructor: Parent }

children (instance of Parent)
 └── __proto__ ---> Parent.prototype
```

## 프로토타입 체인

자바스크립트에서는 객체가 특정 프로퍼티나 메서드를 찾을 때, 자신 → 프로토타입 → 상위 프로토타입 → ... → Object.prototype 순서대로 검색한다. 이를 프로토타입 체인이라고 부른다.

아래 예제를 보자.

```js
function Person(name) {
  this.name = name;
}

Person.prototype.sayHello = function () {
  console.log(`Hello, I'm ${this.name}`);
};

const user = new Person('Alice');

console.log(user.hasOwnProperty('sayHello')); // false

user.sayHello(); // "Hello, I'm Alice"
```

1. user.sayHello를 찾음 → user 인스턴스 안에는 없음.

2. JS 엔진은 `user.__proto__([[Prototype]])`를 확인 → `Person.prototype`에서 sayHello를 찾음.

3. 발견했으니 실행 → "Hello, I'm Alice" 출력.

만약 Person.prototype에도 없었다면, 다시 Object.prototype까지 타고 올라가서 찾고, 그래도 없으면 undefined가 되는 구조이다.

## Reference

- [코어 자바스크립트](https://product.kyobobook.co.kr/detail/S000001766397)
- [모던 자바스크립트 Deep Dive](https://product.kyobobook.co.kr/detail/S000001766445)
- [MDN - Object prototypes](https://developer.mozilla.org/ko/docs/Learn_web_development/Extensions/Advanced_JavaScript_objects/Object_prototypes)
- [JavaScript.info - 프로토타입 상속](https://ko.javascript.info/prototype-inheritance)
